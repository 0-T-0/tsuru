.. Copyright 2015 tsuru authors. All rights reserved.
   Use of this source code is governed by a BSD-style
   license that can be found in the LICENSE file.

===========================
tsurud 0.12.0 release notes
===========================

Welcome to tsurud 0.12.0!

These release notes cover the `new features`_, `bug fixes`_, `general
improvements`_ and `backward incompatible changes`_ you'll want to be aware of
when upgrading from tsr 0.11.2 or older versions.

.. _`new features`: `Main new features`_
.. _`general improvements`: `Other improvements`_
.. _`backward incompatible changes`: `Backward incompatible changes (action needed)`_

Main new features
=================

    * Lean containers: this is definitely the big feature of this release. With
      lean containers, we've dropped `Circus
      <https://circus.readthedocs.org/en/latest/>`_, making application images
      smaller, and containers faster. Improving resource usage.

      Application containers won't run `tsuru-unit-agent
      <https://github.com/tsuru/tsuru-unit-agent/>`_ anymore either. It's still
      used during the deployment process, but it's not competing with the
      application process anymore.

      Instead of having one agent inside each unit, Docker nodes will now have
      one agent collecting information about containers running in the node.
      This agent is named bs. The default behavior of tsuru is to create the bs
      container before running operation in the node. It should work
      out-of-the-box after the update, but you can tune :ref:`bs configuration
      <config_bs>`, customizing the Docker image for running it or configuring
      it to use Unix socket instead of TCP for Docker API communication (which
      is safer).

      Latest tsuru-admin release includes `commands for managing bs
      configuration
      <https://tsuru-admin.readthedocs.org/en/latest/#bs-management>`_.

    * Now tsuru has three types of pool: by team, public and default.
      Team's pool are segregated by teams, and cloud administrator should set
      teams in this pool manually. This pool are just accessible by team's
      members.

      Public pools are accessible by any user. It can be used to segregate
      machines that have specific hardware, like SSD hard drives or high end
      CPUs.

      Default pool are for experimentation and low profile apps,
      like service dashboard and "in development" apps.
      This is the old fallback pool, but with a explict flag.


Bug fixes
=========


Other improvements
==================

* Now tsuru don't try to start stopped/errored containers when containers move. `#1186
  <https://github.com/tsuru/tsuru/issues/1186>`_

Backward incompatible changes (action needed)
=============================================

    * You should change your fallback pool to default pool and to do that you
      can run a `tsuru pool-update pool_name --default=true`

    * tsr has been renamed to tsurud. Please update any procedures and
      workflows (including upstart and other init scripts).
